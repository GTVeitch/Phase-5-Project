{"ast":null,"code":"var _jsxFileName = \"/home/gveitch/Developement/code/Phase_5/Phase-5-Project/server/DBFZ_Team/src/components/CharComments.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CharComments(_ref) {\n  _s();\n  let {\n    comment,\n    comms,\n    setComms,\n    user\n  } = _ref;\n  const [votes, setVotes] = useState(comment.votes);\n  function handleClick(e) {\n    e.preventDefault();\n    fetch(`/comments/${comment.id}`, {\n      method: 'PATCH',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\",\n        \"Access-Control-Allow-Methods\": \"PATCH\"\n      },\n      body: JSON.stringify({\n        ...comment,\n        votes: comment.votes + 1\n      })\n    }).then(r => r.json()).then(res => setVotes(res.votes));\n  }\n  function handleDelete(e) {\n    e.preventDefault();\n    fetch(`/comments/${comment.id}`, {\n      method: 'DELETE'\n    }).then(setComms(comms.filter(com => com != comment)));\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"comments\",\n    children: /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"details\",\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        children: comment.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"score\",\n        onClick: e => handleClick(e),\n        id: comment.id,\n        children: votes\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 21\n      }, this), user.username == comment.username && user.id == comment.user_id ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDelete,\n        children: \"DELETE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 89\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: comment.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 13\n  }, this);\n}\n_s(CharComments, \"zL/UK1j7nk/GiMJGBrEUzjj6C08=\");\n_c = CharComments;\nexport default CharComments;\nvar _c;\n$RefreshReg$(_c, \"CharComments\");","map":{"version":3,"names":["React","useState","CharComments","comment","comms","setComms","user","votes","setVotes","handleClick","e","preventDefault","fetch","id","method","headers","body","JSON","stringify","then","r","json","res","handleDelete","filter","com","username","user_id","content"],"sources":["/home/gveitch/Developement/code/Phase_5/Phase-5-Project/server/DBFZ_Team/src/components/CharComments.js"],"sourcesContent":["import React , { useState } from \"react\"\n\nfunction CharComments ( { comment , comms , setComms , user } ) {\n\n    const [votes, setVotes] = useState(comment.votes)\n\n        function handleClick(e){\n            e.preventDefault()\n            fetch(`/comments/${comment.id}`, {\n                method : 'PATCH',\n                headers : {\n                    \"Content-Type\" : \"application/json\",\n                    \"Accept\": \"application/json\",\n                    \"Access-Control-Allow-Methods\": \"PATCH\"\n                    },\n                body : JSON.stringify( {\n                    ...comment,\n                    votes: comment.votes+1 } )\n                   })\n            .then(r=>r.json())\n            .then(res => setVotes(res.votes))\n\n        }\n\n        function handleDelete(e) {\n            e.preventDefault()\n            fetch(`/comments/${comment.id}`, {\n                method : 'DELETE'\n                   })\n                   .then(setComms(comms.filter((com) => com != comment )))\n        }\n\n\n\n    return (\n            <div className=\"comments\">\n                <span className=\"details\">\n                    <ul>{comment.username}</ul>\n                    <span className=\"score\" onClick={e => handleClick(e)} id={comment.id}>{votes}</span>\n                    {(user.username == comment.username && user.id == comment.user_id)? <button onClick={handleDelete}>DELETE</button>:null}\n                    <ul>{comment.content}</ul>\n\n                </span>\n            </div>\n        )\n}\n\nexport default CharComments;"],"mappings":";;AAAA,OAAOA,KAAK,IAAKC,QAAQ,QAAQ,OAAO;AAAA;AAExC,SAASC,YAAY,OAA2C;EAAA;EAAA,IAAxC;IAAEC,OAAO;IAAGC,KAAK;IAAGC,QAAQ;IAAGC;EAAK,CAAC;EAEzD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAACE,OAAO,CAACI,KAAK,CAAC;EAE7C,SAASE,WAAW,CAACC,CAAC,EAAC;IACnBA,CAAC,CAACC,cAAc,EAAE;IAClBC,KAAK,CAAE,aAAYT,OAAO,CAACU,EAAG,EAAC,EAAE;MAC7BC,MAAM,EAAG,OAAO;MAChBC,OAAO,EAAG;QACN,cAAc,EAAG,kBAAkB;QACnC,QAAQ,EAAE,kBAAkB;QAC5B,8BAA8B,EAAE;MAChC,CAAC;MACLC,IAAI,EAAGC,IAAI,CAACC,SAAS,CAAE;QACnB,GAAGf,OAAO;QACVI,KAAK,EAAEJ,OAAO,CAACI,KAAK,GAAC;MAAE,CAAC;IACzB,CAAC,CAAC,CACRY,IAAI,CAACC,CAAC,IAAEA,CAAC,CAACC,IAAI,EAAE,CAAC,CACjBF,IAAI,CAACG,GAAG,IAAId,QAAQ,CAACc,GAAG,CAACf,KAAK,CAAC,CAAC;EAErC;EAEA,SAASgB,YAAY,CAACb,CAAC,EAAE;IACrBA,CAAC,CAACC,cAAc,EAAE;IAClBC,KAAK,CAAE,aAAYT,OAAO,CAACU,EAAG,EAAC,EAAE;MAC7BC,MAAM,EAAG;IACN,CAAC,CAAC,CACDK,IAAI,CAACd,QAAQ,CAACD,KAAK,CAACoB,MAAM,CAAEC,GAAG,IAAKA,GAAG,IAAItB,OAAO,CAAE,CAAC,CAAC;EAClE;EAIJ,oBACQ;IAAK,SAAS,EAAC,UAAU;IAAA,uBACrB;MAAM,SAAS,EAAC,SAAS;MAAA,wBACrB;QAAA,UAAKA,OAAO,CAACuB;MAAQ;QAAA;QAAA;QAAA;MAAA,QAAM,eAC3B;QAAM,SAAS,EAAC,OAAO;QAAC,OAAO,EAAEhB,CAAC,IAAID,WAAW,CAACC,CAAC,CAAE;QAAC,EAAE,EAAEP,OAAO,CAACU,EAAG;QAAA,UAAEN;MAAK;QAAA;QAAA;QAAA;MAAA,QAAQ,EAClFD,IAAI,CAACoB,QAAQ,IAAIvB,OAAO,CAACuB,QAAQ,IAAIpB,IAAI,CAACO,EAAE,IAAIV,OAAO,CAACwB,OAAO,gBAAG;QAAQ,OAAO,EAAEJ,YAAa;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAgB,GAAC,IAAI,eACvH;QAAA,UAAKpB,OAAO,CAACyB;MAAO;QAAA;QAAA;QAAA;MAAA,QAAM;IAAA;MAAA;MAAA;MAAA;IAAA;EAEvB;IAAA;IAAA;IAAA;EAAA,QACL;AAElB;AAAC,GA3CQ1B,YAAY;AAAA,KAAZA,YAAY;AA6CrB,eAAeA,YAAY;AAAC;AAAA"},"metadata":{},"sourceType":"module"}